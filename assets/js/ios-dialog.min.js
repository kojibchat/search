/*
 * @Author: kevin
 * @Date:   2016-04-08 17:04:58
 * @Last Modified by:   kevin
 * @Last Modified time: 2016-08-02 15:10:52
 */
var lnv=lnv||{};!function(){function t(){this.cfg={content:"",title:"",alertBtnText:"Okay",alertHandler:null,confirmBtnText:"Confirm",confirmHandler:null,cancelBtnText:"Cancel",cancelHandler:null},this.handlers={}}t.prototype={render:function(){$("body").addClass("no-scroll");var n="";switch(this.cfg.type){case"alert":n='<a class="lnv-btn-dialog primary alert-btn" href="javascript:;">'+this.cfg.alertBtnText+"</a>";break;case"confirm":n='<a class="lnv-btn-dialog default cancel-btn" href="javascript:;">'+this.cfg.cancelBtnText+'</a><a class="lnv-btn-dialog primary confirm-btn" href="javascript:;">'+this.cfg.confirmBtnText+"</a>"}this.boundingBox=$('<div id="dialog" class="lnv-dialog-'+this.cfg.type+'"><div class="lnv-mask"></div><div class="lnv-dialog"><div class="lnv-dialog-hd"><strong class="lnv-dialog-title">'+this.cfg.title+'</strong></div><div class="lnv-dialog-bd">'+this.cfg.content+'</div><div class="lnv-dialog-ft">'+n+"</div></div></div>"),$("body").append(this.boundingBox),this.handlers={},this.bind()},bind:function(){var n=this;this.boundingBox.on("click",".alert-btn",function(){n.fire("alert"),n.destroy()}).on("click",".cancel-btn",function(){n.fire("cancel"),n.destroy()}).on("click",".confirm-btn",function(){n.fire("confirm"),n.destroy()}),this.cfg.alertHandler&&this.on("alert",this.cfg.alertHandler),this.cfg.confirmHandler&&this.on("confirm",this.cfg.confirmHandler),this.cfg.cancelHandler&&this.on("cancel",this.cfg.cancelHandler)},alert:function(n){return $.extend(this.cfg,n,{type:"alert"}),this.render(),this},confirm:function(n){return $.extend(this.cfg,n,{type:"confirm"}),this.render(),this},destroy:function(){$("body").removeClass("no-scroll"),this.boundingBox.remove()},on:function(n,t){return void 0===this.handlers[n]&&(this.handlers[n]=[]),this.handlers[n].push(t),this},fire:function(n,t){if(this.handlers[n]instanceof Array)for(var i=this.handlers[n],e=0,l=i.length;e<l;e++)i[e](t)}},lnv.alert=function(n){return(new t).alert(n)},lnv.confirm=function(n){return(new t).confirm(n)}}();
